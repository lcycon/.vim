class AddCartSchema < ActiveRecord::Migration
  def up
    change_table :orders do |t|
      t.remove :user_id
      t.integer :cart_id
    end

    create_table :carts do |t|
      t.integer :user_id
      t.float :amount_paid, :precision => 6, :scale => 2
      t.boolean :paid
      t.text :address
      t.text :email
      t.text :phone_number
    end

    change_table :users do |t|
      t.text :name
      t.text :email
    end
  end

  def down
    change_table :users do |t|
      t.remove :name
      t.remove :email
    end

    drop_table :carts

    change_table :orders do |t|
      t.remove :cart_id
      t.integer :user_id
    end
  end
end
